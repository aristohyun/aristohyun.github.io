---
layout: post
title: "DBS, 7. Basic SQL"
description: "DBS, 노서영 교수님"
categories: [DBS]
tags: [2021-2, DBS, Database System, DBMS, 노서영]
use_math: true
redirect_from:
  - /2021/10/27/
---

* Kramdown table of contents
{:toc .toc}   


# SQL

Relational Predicate Calculus

초기엔 SEQUEL이라는 이름으로 사용됨

Chamberlin and Boyce

릴레이셔널 데이터 모델을 IBM에서 처음 만들었음. 개발.

이 모델을 기반해서 만든 시스템이 
릴레이셔널 데이터 시스템이고, 이 시스템에서 쓰는 언어가 SQL

Structured Query Language이다

설명할 때 서술하는게 심플하고 직관적이다

서술하는 것은 인간이 쓰는 자연언어인데, 컴퓨터로 쓰기엔 부적합하다

심볼을 도입. 

심볼만 True False를 나타내는건 가능한데, 두 상태, 명제에 대한 관계를 나타낼 때에는 부적합하다

이에 Predicate Calculus를 도입
$
\forall x \exists y like(x,y) \\\ 
\forall x \exists y (person(x) \wedge actor(y) \wedge blame(x,y) \rightarrow \nee like(x,y) ) \\\ 
$

IBM에서 만든 이유는, EF코드 박사가 데이터를 처리하기 위해 썻던 트리방식의 언어가 불편했기 때문에, 집합 모델을 가져와서 모델을 만듬. 이 모델을 기반으로 RDBMS로 만들었음. 그런데 오라클에서 먼저 상업화를 함. RDMBS에서 쓰는 언어가 SQL

# SQL Data Definition, Data Types, Standards

Relation, tuple, arrtibute : Relational data model 

이를 바탕으로 구현을 하는데, 

Table, row, column으로 만들었음

CREATE Statement
- Data Definition


# Standard

# Schema and Catalog Concepts in SQL

Schema == database

SQL Schema
- DB 이름
- 어떤 사람이 접근할 수 있는지 
- 테이블, 제약사항, View, Domain(범위) 등등이 요소로서 포함된다

SQL은 세미콜론으로 끝난다

CREATE Schema statement
~~~sql
CREATE SCHEMA COMPANY AUTHORIZATION 'Jsmith';
~~~

Catalog
- 테이블, 데이터베이스에 대한 내용을 모아놓은 것. 이 DB는 어떤 내용이고 테이블은 몇개가 있고, 어떤 컬럼들이 있고 등등

카타로그라고 하는 것이 DB안에 있는 내용들에 대한 정보를 가지고 있다

새로운 릴레이션을 정의하고 있음

# The CREATE TAble Command in SQL

DB안에 테이블이 있는데 테이블도 정의해줘야함

~~~sql
CREATE TABLE Company.employee ...

CREATE TABLE employee
~~~

릴레이션은 기본적으로 파일로 저장이 된다

View : Virtual relations(tables)

SQL을 통해서 나온 결과를 테이블로 표현할 수 있음

SQL은 집합연산을 하는건데, 이 집합은 결국 테이블

집합 연산은 언제든 꺼내볼 수 있지만 따로 저장하진 않음

 ~~~sql

CREATE DATABASE COMPANY;

CREATE TABLE EMPLOYEE(
    Fname VARCHAR(15) NOT NULL,
    Minit CHAR,
    Lname VARCHAR(15) NOT NULL,
    Ssn CHAR(9) NOT NULL,
    Bdate DATE,
    Address VARCHAR(30),
    Sex CHAR,
    Salary DECIMAL(10,2),   
    Super_ssn CHAR(9),
    Dno INT NOT NULL,
    PRIMARY KEY (Ssn)
);
CFEATE TABLE DEPARTMENT(
    Dname VARCHAR(15) NOT NULL,
    Dnumber INT NOT NULL,
    Mgr_ssn CHAR(9) NOT NULL,
    Mgr_start_date DATA,
    PRIMARY KEY (Dnumber),
    UNIQUE (Dname),
    FOREIGN KEY (Mgr_ssn) REFERENCES EMPLOYEE(Ssn)
);
CREATE TABLE DEPT_LOCATIONS(
    Dnumber INT NOT NULL,
    Dlocation CARCHAR(15) NOT NULL,
    PRIMARY KEY (Dnumber, Dlocation),
    FOREIGN KEY (Dnumber) REFERENCES DEPARTMENT(Dnumber)
);
CREATE TABLE PROJECT(
    Pname VARCHAR(15) NOT NULL,
    Pnumber INT NOT NULL,
    Plocation VARCHAR(15),
    Dnum INT NOT NULL,
    PRIMARY KEY (Pnumber),
    UNIQUE(Pname),
    FOREIGN KEY (Dnum) REFERENCES DEPARTMENT(Dnumber)
);
CREATE TABLE WORKS_ON(
    Essn CHAR(9) NOT NULL,
    Pno INT NOT NULL,
    Hours DECIMAL(3,1) NOT NULL,
    PRIMARY KEY (Essn, Pno),
    FOREIGN KEY (Essn) REFERENCES EMPLOYEE(Ssn),
    FOREIGN KEY (Pno) REFERENCES PROJECT(Pnumber)
);
CREATE TABLE DEPENDENT(
    Essn CHAR(9) NOT NULL,
    Dependent_name VARCHAR(15) NOT NULL,
    Sex CHAR,
    Bdate DATE,
    Relationship VARCHAR(8),
    PRIMARY KEY (Essn, Dependent_name),
    FOREIGN KEY (Essn) REFERENCES EMPLOYEE(Ssn)
)
 ~~~

# data types

//sql 홈페이지서 보고 정리


# Domain

속성에 대한 스펙, 제한사항

~~~ sql
CREATE DOMAIN SS_TYPE AS CHAR(9);
~~~
