---
layout: post
title: "DBS, 6. Normalization, 정규화"
description: "DBS, 이종연 교수님"
categories: [DBS]
tags: [2021-2, DBS, Database System, DBMS, 이종연]
use_math: true
redirect_from:
  - /2021/10/13/
---

* Kramdown table of contents
{:toc .toc}   


# Normalization, 정규화

> 잘못된 DB를 정상화 시키는 과정


이르믕ㄴ 의미를 부여해서 영어로

중복이 된다면 스키마가 잘못된것 그렇게되면 갱신 이상, 업데이트에 문제가 생김 

튜플에서 널벨류가 많으면 문제가 있는것


# 함수적 종속, Functional Dependencies (FDs)

기본키 PK에서 다른 키가 아닌 속성들이 종속이 되어있다

기본키에 대해서 함수원리를 대입하는 것

함수원리를 적용할 수 있다면 다른 릴레이션으로 나눠야 함


제1 ~ 제5 정규형

3,4 사이에 BCNF가 있는데, Boyce-Codd가 새로운 정규형을 정의했음
 
총6개

대게 3정규형 까지는 맞추려고 노력함


# 

함수적 종속을 기본으로 정규화를 함

데이터베이스에서 중복이 일어나면 문제가 있음

1. 메모리 낭비
2. 중복으로 인해서 갱신 이상(update anomalies)이 생김
    - 삽입 이상
    - 삭제 이상
    - 수정 이상

사원 한명을 입력하려니까 부서도 직접 입력을 해줘야함 insert anomalies
부서명을 바꾸게 되었더니 다른 릴레이션에서 부서명을 찾아서 다 바꿔줘야함 modify anomalies


# 26p

함수적으로 결정한다

결과적으로 X가 Y를 결정한다

Pnumber이면 Pname이라는 종속이 생긴다


# 정규화[^normal_forms]


정규화를 할수록 릴레이션이 분해하게됨,

질의를 주고 검색을 할 때에는, 쪼개진 릴레이션을 연결해서 합쳐줘야함   Join

함수적 종속을 이용해서 쪼개는 것

[^normal_forms]: ![image](https://user-images.githubusercontent.com/32366711/137453214-dc5aaf75-404a-41ae-9160-e0a2fd32245e.png)


# 제 1 정규화

> 모든 속성이 오토믹 하다, 값이 하나씩 있다

릴레이션에 있는 모든 속성들을 하나의 값으로 나눔

2번은 좋지 않은 방법

3번은 널값이 너무 많이 생김


![image](https://user-images.githubusercontent.com/32366711/137447619-846aa997-7f1f-43eb-9ce2-632224bff881.png){:width="500"}{:.aligncenter}

베스트 방법


# 제 2 정규화

> 제 1 정규형이고, 키가 아닌 속성이 기본키에 대해서 완전함수적 종속일 때, 제2정규형이다                       
> if every non-prime attribute A in R is <red>fully functionally dependent</red> on the primary key              


## Full functional dependency

완전 함수적 종속

sno -> sname


#### Partial functional dependency

부분 함수적 종속

이 둘중에 하나를 빼도 함수적 종속이 성립됨

sno, sname -> address
의 함수적 종속이 될 때

sname을 빼도
sno -> address
종속이 존재할 함

![image](https://user-images.githubusercontent.com/32366711/137450690-05b87196-aa38-4b37-b7c1-da8744a2388a.png)


# 제 3 정규화

> 기본키에 대해 키가 아닌 속성들이 이행적 종속이 존재하지 않을 때, 제 3정규형이라고 한다
> if it is in 2NF and <red>no</red> non-prime attribute A in R is <red>transitively dependent</red> on the primary key



## Transitively dependent

# BCNF

`Boyce-Codd Normal Form`

> A relation schema R is in Boyce-Codd Normal Form (BCNF) if whenever an FD X → A holds in R, then X is a superkey of R
> 모든 결정자가 슈퍼키로 결정되어있으면 BCNF
![image](https://user-images.githubusercontent.com/32366711/137456343-54f49086-3e49-412f-aaf6-fefcbb9db96b.png)


# 제 4 정규화

Multivalued Dependencies



# 제 5 정규화




CRC 스키마 그리는거도 시험에 나옴

정규화까지 시험

정규화 하는거도 나옴


