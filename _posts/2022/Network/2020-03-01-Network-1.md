---
layout: post
title: "Network, 1~6 중간고사 이론"
description: "네트워크, 전중남교수님"
categories: [Network]
tags: [2022-1, Network, 전중남]
use_math: true
redirect_from:
  - /2022/03/01
---

* Kramdown table of contents
{:toc .toc} 

# 네트워크의 기초 용어와 기능

## 네트워크 관련 기초 용어

- 시스템
  - 내부 규칙에 따라 능동적으로 동작하는 대상
  - 예: 컴퓨터, 자동차, 커피 자판기, 마이크로 프로세서, 운영체제, 프로세스
- 인터페이스
  - 시스템과 전송 매체의 연결 지점에 대한 규격
  - 예: RS-232C, USB
- 전송매체
  - 시스템끼리 데이터를 전달하기 위한 물리적인 전송 수단
- 프로토콜
  - 전송 매체를 통해 데이터를 교환할 때의 임의의 통신 규칙
- 네트워크
  - 프로토콜을 사용하여 데이터를 교환하는 시스템의 집합을 통칭
- 인터넷
  - 전세계의 네트워크가 유기적으로 연결되어 동작하는 통합 네트워크
  - 공통 기능: IP(Internet Protocol)
- 표준화
  - 서로 다른 시스템이 상호 연동해 동작하기 위한 통일된 연동 형식

- 시스템의 구분
  - 노드: 인터넷에 연결된 시스템을 일반화한 용어
  - 호스트: 컴퓨팅 기능이 있는 시스템
  - 클라이언트: 서비스를 요청하는 시스템
  - 서버: 서비스를 제공하는 시스템

## 네트워크의 기능

### ISO의 OSI 7계층 모델

1. 물리 계층 : 물리적으로 데이터 전송
2. 데이터 링크 계층 : 물리적 전송 오류를 해결 (오류 감지, 재전송 기능)
3. 네트워크 계층 : 올바른 전송 경로를 선택 (혼잡 제어 포함)
4. 전송 계층 : 송수신 프로세스 사이의 연결 기능을 지원
5. 세션 계층 : 대화 개념으 지원하는 상위의 논리적 연결을 지원
6. 데이터의 표현 방법, 압축, 암호화
7. 다양한 응용 환경을 지원

### 프로토콜과 인터페이스

- 프로토콜: 서로 다른 호스트에 위치한 동일 계층끼리의 통신 규칙
- 인터페이스: 같은 호스트에 위치한 상하위 계층 사이의 규칙
- 서비스: 하위 계층이 상위 계층에 제공하는 인터페이

![image](https://user-images.githubusercontent.com/32366711/164251432-8557964c-a3ce-42c9-8135-856a0c0d34d6.png)

### 인터넷 계층 구조

네트워크 계층(IP 프로토콜), 전송 계층(TCP, UDP 프로토콜)

FTP 서비스의 예

![image](https://user-images.githubusercontent.com/32366711/164251661-f58d9ef1-becb-4448-8d00-7a835a441251.png)


### 인터네트워킹

- 게이트웨이: 인터네트워킹 기능을 수행하는 시스템
  - 리피터: 물리 계층을 지원 (신호 증폭)
  - 브리지: 물리 계층과 데이터 링크 계층을 지원
  - 라우터: 물리 계층, 데이터 링크 계층, 네트워크 계층의 기능을 지원

### 프로토콜

통신 시스템이 데이터를 교환하기 위해 사용하는 통신 규칙

![image](https://user-images.githubusercontent.com/32366711/164251810-d56b53c9-4f8c-44cf-8d6a-bc63b1065e52.png)


### 데이터 단위

데이터 단위 : PDU (Protocol Data Unit)
- APDU: 응용 계층의 데이터 단위
- PPDU: 표현 계층의 데이터 단위
- SPDU: 세션 계층의 데이터 단위
- TPDU: 전송 계층의 데이터 단위
  - 세그먼트: : TCP 프로토콜에서 사용
  - 데이터그램: UDP 프로토콜에서 사용
- NPDU: 네트워크 계층의 데이터 단위 (패킷)
- DPDU: 데이터 링크 계층의 데이터 단위 (프레임)

## 네트워크 주소의 표현

네트워크 주소
- 노드에 할당되는 고유 주소, 구분자(identifier), 고유 숫자
- 숫자 대신에 이름 사용: 숫자와 1:1 대응
- 주소의 특징
  - 유일성
  - 확장성
  - 편리성
  - 정보의 압축

- IP 주소
  - IPv4 프로토콜에서 사용
  - 32 비트 크기의 주소 체계
  - IPv6에서는 128 비트 주소 체계로 확장
  - 예: 211.223.201.30 = 1101_0011.1101_1111.1100_1001.0001_1110

같은 라우터 내에서 관리하면, 라우터 내에서 할수있는데,
없다면 상위계층으로 가서 다른 라우터를 찾아 이동

- 호스트 이름
- <호스트>.<단체 이름>.<단체 종류>.<국가 도메인>
  - 예: zebra.korea.co.kr

co 회사 ac 교육기관 go 정부 소속 기관

![image](https://user-images.githubusercontent.com/32366711/164252316-aaec52c2-9e08-495b-98fc-ee6fbd18a927.png)


### 주소 정보의 관리

- 호스트 파일
  - 호스트 이름과 IP 주소의 조합을 텍스트 파일로 관리
- DNS Domain Name System
  - 주소와 이름을 자동으로 유지하고 관리하는 분산 데이터베이스 시스템
- Name server
  - host 주소와 이름을 관리하는 호스트
- Client
  - Name server에 요청해서 이름에 대한 IP 주소를 얻는다.

기타주소
- MAC 주소 - 2계층 주소 (LAN 카드)
- IP 주소 - 3계층 (네트워크 계층): 라우팅
- Port 주소 - 4계층 (전송계층): 프로세스 구별
- 메일 주소 - 응용 계층, mail system

# 네트워크 모델

## 계층 구조의 개념

> 프로토콜, 네트워크에 연결된 시스템이 통신하기 위하여 서로 주고받는 규칙

### 계층적 모듈 구조

> 복잡한 시스템을 기능별로 모듈화하면 시스템 구조가 단순해짐

- 예) 컴퓨터 구성요소, 소프트웨어 함수
- 시스템 모듈화의 장점
  - 모듈 간 유기적 연결
  - 모듈 A와 C는 B를 통해 연결

### 계층 구조

> 특정 모듈이 다른 모듈에 서비스를 제공하는 형식의 계층 구조               
> 네트워크에서도 독립적인 고유 기능을 수행하는 모듈들이 상하 위의 계층 구조로 연결되어 동작한다

계층 구조의 장점
- 전체 시스템을 이해하기 쉽고, 설계 및 구현이 용이
- 모듈간의 표준 인터페이스가 단순하면 모듈의 독립성을 향상시킬 수있으며, 이는 시스템 구조를 단순화시키는 장점이 됨
- 대칭 구조에서는 동일 계층 사이의 인터페이스인 프로토콜을 단순화시킬 수 있음
- 특정 모듈의 외부 인터페이스가 변하지 않으면 내부 기능의 변화가 전체 시스템의 동작에 영향을 미치지 않음

### 프로토콜 설계시 고려사항

프로토콜 설계 시 고려 사항
- 주소 표현
- 오류 제어
- 흐름 제어
- 데이터 전달 방식

주소 표현
- 주소의 역할 : 서로를 구분
- 주소의 활용도를 높이기 위하여 구조적 정보를 포함
  - 주민번호 : yymmdd-abcdefg
  - 전화번호 : 국가 코드 – 지역 코드 - 번호
- 1대다 통신을 지원
  - 브로드캐스팅 : 모든 호스트에 데이터 전달
  - 멀티캐스팅 : 특정 호스트에게 데이터 전달

오류 제어
- 데이터 분실 오류 : 데이터가 도착하지 못함 -- 재전송
- 데이터 변형 오류 : 데이터가 깨져서 도착 -- 데이터 순서 번호
- 오류 제어기능은 통신 프로토콜의 가장 기본적인 기능


흐름 제어
- 수신 호스트의 버퍼 처리 속도보다 송신 호스트가 데이터를 전송하는 속도가 빠르면 논리적인 데이터 분실 오류가 발생할 수 있음
- 따라서 송신 호스트의 전송 속도를 조절하는 흐름제어 기능이 필요


데이터 전달 방식
- 단방향 : 데이터를 한쪽 방향으로만 전송
- 전이중 : 데이터를 양쪽에서 동시에 전송
- 반이중 : 양방향으로 전송할 수 있지만, 특정 시점에서는 한쪽 방향으로만 전송

기타 고려사항
- 전송 우선순위
- 긴급 데이터 처리 방법

### 서비스 프리미티브

계층 구조 프로토콜 : 하위 계층이 상위 계층에게 서비스 제공


> 프리미티브 (primitive), 상위 계층이 하위 계층에게 명령할 수 있는 최소 단위 동작

데이터 전송 방식
- 연결형
  - 연결 설정 > 데이터 전송 > 연결 해제
  - 예) 전화
- 비연결형 서비스
  - 전송할 데이터를 독립적으로 목적지 호스트로 전송
  - 예) 우편

서비스 프리미티브
- 하위 계층이 상위 계층에게 서비스 단위
- 상위 계층이 하위 계층 서비스를 사용하는 정형화된 방법

- 연결형 서비스 프리미티브
  - CONNECT : 연결 설정
  - DATA : 데이터 전송
  - DISCONNECT : 연결 해제

- 서비스 프리미티브의 기능
  - Request : 클라이언트가 서버에 서비스를 요청함
  - Indication : 서버에 서비스 요청이 도착했음을 통지함
  - Response : 서버가 클라이언트에 서비스 응답을 회신함
  - Confirm : 클라이언트에 응답이 도착했음을 통지함


- 서비스 프리미티브의 동작 원리
  - Request : CONNECT.Request, DATA.Request, DISCONNECT.Request
  - Indication : CONNECT.Indication, DATA.Indication, DISCONNECT.Indication
  - Response : CONNECT.Response, DATA.Response, DISCONNECT.Response
  - Confirm : CONNECT.Confirm, DATA.Confirm, DISCONNECT.Confirm

![image](https://user-images.githubusercontent.com/32366711/164254544-2b567cea-9a69-4e9e-8934-5a5200aa2d59.png)


## OSI 참조 모델

- 네트워크 프로토콜 표준화 필요
- OSI 7계층 모델
  - 국제표준화기구(ISO)가 확립한 컴퓨터 네트워크에 대한 계층적 구현 모델
  - 계층 구조로 모듈화된 프로토콜 스택

### OSI 7계층 모델

용어 정의
- 계층 n 프로토콜 : 계층 n 모듈끼리 사용하는 통신 규칙
- 동료 프로세스 : 동일 계층에 위치한 통신 양단 프로세스
- 인터페이스 : 상하위 계층 사이의 접속 방법
- 서비스 : 상위 계층이 하위 계층을 사용하는 방법

헤더 (header)
- 데이터를 감싸는 통신 정보 (송신자, 수신자 주소 등)
- 헤더 정보
  - 송신 호스트 : 데이터가 상위 계층에서 하위 계층으로 갈수록 헤더 추가
  - 수신 호스트 : 데이터가 하위 계층에서 상위 계층으로 갈수록 헤더 제거

중개 기능
- 데이터가 목적지까지 올바르게 전달되도록 경로 배정
- 라우팅Routing = 경로 배정 기능
- 라우터 Router = 중개 노드: 헤더 정보를 해석하고 변환

## 계층별 기능

- 물리 계층 Physical Layer
  - 전송 매체의 물리적 인터페이스에 관한 사항을 기술
  - 데이터 전송 속도, 송수신 호스트 사이의 클록 동기화 방법, 물리적 연결 형태 등
- 데이터 링크 계층 Data Link Layer
  - 데이터의 물리적 전송 오류를 해결
  - 송수신 호스트의 MAC 주소 사용
  - 프레임 : 전송 데이터의 명칭
- 네트워크 계층 Network Layer
  - 송신 호스트가 전송한 데이터가 어떤 경로를 통해 수신 호스트에 전달되는지 결정하는 라우팅 문제를 처리
  - 호스트 구분을 위한 주소 개념 필요 (예: IP 주소)
  - 패킷 : 전송 데이터의 명칭
  - 혼잡 제어 : 데이터 전송 경로의 선택에 따라 네트워크 혼잡에 영향을 미침
- 전송 계층 Transport Layer
  - 송신 프로세스와 수신 프로세스를 직접 연결하는 단대단End-to-End 통신 기능 제공
  - 통신 당사자인 프로세스 사이의 통신 담당 (포트(port): 프로세스 구분)
  - 세그먼트 단위 통신
- 세션 계층 Session Layer
  - 상위 연결 개념: 원격 파일 전송, 원격 로그인 등
  - 송수신 호스트 사이의 대화 제어를 비롯 상호 배타적인 동작을 제어하기 위한 토큰 제어, 일시적인 전송 장애를 해결하기 위한 동기Synchronization 기능 등 제공
- 표현 계층 Presentation Layer
  - 데이터의 의미와 표현 방법을 처리, 데이터를 코딩Coding하는 문제를 다룸
  - 데이터 암호화, 압축
- 응용 계층 Application Layer
  - 최상위, 다양하게 존재하는 응용 환경에서 공통으로 필요한 기능을 다룸
  - 대표적인 인터넷 서비스: FTP, Telnet, 전자 메일

## TCP/IP 모델

인터넷
- IP Protocol: 네트워크 계층, 중개 기능 담당
- TCP, UDP Protocol: 전송 계층

### 구현 환경

![image](https://user-images.githubusercontent.com/32366711/164255103-584fdba5-dd18-4f17-bd70-2a1daffee77e.png)

### 프로토콜

- 프로토콜
  - TCP/IP: 목적지까지 데이터 전송 담당
  - 여러 가지 세부 프로토콜 포함

- TCP/UDP : 전송 계층 프로토콜
- IP : 네트워크 계층 프로토콜
- ARP/RARP: 주소 찾기
- ICMP: 오류 해결

- ARP (Address Resolution Protocol), RARP (Reverse ARP)
  - ARP : IP 주소를 MAC 주소로 변환
  - RARP : MAC 주소를 IP 주소로 변환
- ICMP (Internet Control Message Protocol)
  - 오류 메시지를 전송하는 프로토콜
  - IP 프로토콜에 캡슐화되어 전송됨

- ARP : 인터넷에서 통신하려면 자신의 로컬 IP주소와 MAC 주소, 원격 호스트의 IP주소와 MAC 주소가 필요하다. ARP는 원격 호스트의 주소 변환 기능을 제공하는데, 사용자가 입력한 IP주소를 이용해 MAC주소를 제공하는 프로토콜이다
- RARP : RARP는 로컬 호스트의 주소 변환 기능을 제공하는데, LAN 카드에 보관된 MAC주소를 이욯해 IP주소를 제공하는 프로토콜이다. 일반 컴퓨터 시스템은 로컬 호스트의 IP주소가 파일 시스템에 보관되므로 RARP를 사용하지 않지만, 디스크가 장착되지 않은 시스템에서는 RARP를 반드시 사용해야 한다
- ICMP : 사용자 데이터의 전송 과정에서 오류가 발생하면 오류 메시지가 생성되는데, ICMP는 이를 전송하는 기능을 담당하는 프로토콜이다



# 네트워크 기술

## 교환 시스템

- 교환 시스템: 데이터를 최종 목적지까지 올바른 경로로 중개
- 회선 교환 방식 : 연결형 서비스를 제공
  - 고정 대역폭의 전송률을 지원, 네트워크의 구조가 단순
- 패킷 교환 방식 : 비연결형 서비스를 제공
  - 가변 대역의 전송률을 지원해 네트워크 구조가 복잡
- 프레임 릴레이, 셀 릴레이 교환 방식
  - 데이터의 전송 속도를 향상시키는 기술

### 교환 시스템의 종류

 교환 시스템의 종류
- 전용 회선 방식 : 송신, 수신 호스트가 전용 통신 선로로 데이터 전송
- 교환 회선 방식 : 전송 선로 하나를 다수의 사용자가 공유
- 회선 교환 : 데이터 전송 전에 양단 사이의 연결을 설정
- 패킷 교환 : 연결을 설정하지 않고 패킷 단위로 데이터를 전송

- 회선 교환Circuit Switching
  - 데이터를 전송하기 전에 연결 경로를 미리 설정하는 방식
  - 모든 데이터가 같은 경로로 전달
  - 고정 대역의 전송 선로를 전용으로 할당 받아 안정적인 데이터 전송률 지원
- 메시지 교환Message Switching
  - 전송 전에 경로를 미리 설정하지 않는다.
  - 데이터를 메시지로 나눠서 전송한다.
  - 메시지의 헤더마다 목적지 주소를 표시하는 방식
  - 교환 시스템은 메세지를 받으면 일시적으로 버퍼에 저장하고, 메세지를 모두 받은 후에 다음 교환 시스템으로 전달한다.
  - 송신 호스트가 전송하는 전체 데이터가 하나의 단위로 교환 처리됨
- 패킷 교환Packet Switching
  - 송신 호스트는 전송 데이터를 패킷으로 나누어 전송
  - 각 패킷은 독립적 라우팅 과정을 거쳐 목적지에 도착
  - 전송 대역의 효율적 이용
  - 호스트의 무제한 수용
  - 패킷에 우선순위 부여
  - 회선 교환 방식 보다 지연이 길다.
  - 지터 : 패킷의 도착 지연 시간이 가변적이며, 각 패킷들의 지연 시간 분포를 의미

### 패킷 교환

패킷 경로를 선택하는 방식
- 정적 경로: 가상회선 방식
  - 연결형 서비스를 지원하기 위한 기능
  - 연결을 통해 전송되는 모든 패킷의 경로가 동일
- 동적 경로: 데이터그램 방식
  - 패킷 경로를 독립적으로 결정
  - 네트워크 혼잡도 등 주변 상황에 따라 경로 조정

가상 회선
- 송수신 호스트 사이에 가상의 단일 파이프 설정
- 파이프를 통해 전송되는 모든 패킷의 경로가 동일

데이터그램: 비연결형 서비스
- 패킷을 독립적으로 전송, 서로 다른 경로 전송
- 패킷 도착 순서가 변경될 수 있다.

### 프레임 릴레이와 셀 릴레이

- 패킷 교환의 문제점
  - 원거리 통신에서 전송 오류 발생 가능성이 크다.
  - 오류 복구 오버헤드 증가 > 처리 과정 복잡
  - 현대 신뢰성이 높은 네트워크 환경에서 오류 제거 기능 단순화 필요
- 오류 제어 방법
  - 일반 패킷 교환: 패킷 단위로 라우터(홉) 간 오류 제어
  - 프레임 릴레이: 프레임(가변 길이) 단위로 호스트 간 오류 제어
  - 셀 릴레이: 셀(고정 길이 패킷) 단위로 호스트 간 오류 제어

프레임 릴레이Frame Relay
  - 동일한 속도의 전송 매체로 고속 데이터 전송을 지원할 수 있도록 고안된 기술
  - 데이터 링크 계층의 기능을 단순하게 설계 가능

- 셀 릴레이Cell Relay (ATMAsynchronous Transfer Mode 방식)
  - 회선 교환과 패킷 교환 방식의 장점을 모아 고안
  - 오류 제어에 대한 오버헤드를 최소화
  - 셀이라는 고정 크기의 패킷을 사용

## LAN, MAN, WAN

네트워크 연결 형태
- Tightly coupled: 한 시스템 내부. 버스 연결
- Loosely coupled: 시스템 간. 네트워크 연결

내트워크 크기(연결 거리)로 분류
- LAN, Local Area Network
- MAN, Metropolitan Area Network
- WAN, Wide Area Network

### LAN

- 소규모 지역에 위치하는 호스트로 구성된 네트워크
- 비교적 물리적 데이터 전송 길이가 짧다.
- 거리가 짧을수록 전송 지연이 적고, 오류 발생 가능성도 낮다.
- LAN의 전송 속도는 수십 Mbps ~ 수 Gbps
- 브로드캐스팅 방식으로 전송: 자기 것만 수신
- LAN Topology
  - 버스 형
  - 링 형

- 버스Bus 형
  - 공유 버스 하나에 여러 호스트를 직접 연결
  - 브로드캐시팅: 한 호스트가 보낸 데이터를 모든 호스트가 수신
  - 동시 전송하면 데이터 충돌(collision)
  - 충돌 회피 방법 필요
  - 이더넷Ethernet 
    - 충돌이 발생하는 것을 허용하는 대신, 충돌 후에 문제를 해결하는 사후 해결 방식
- 링Ring형
  - 전송 호스트의 연결이 순환 구조인 링 형태
  - 전송한 데이터는 링을 한 바퀴 돌아 송신 호스트로 되돌아 옴
  - 둘 이상의 호스트가 동시에 데이터를 전송하면 충돌 발생
  - 토큰이라는 제어 프레임을 사용해 충돌 가능성을 차단함

### MAN

- LAN보다 큰 지역을 지원 (여러 건물, 도시 규모)
- DQDB 구조 지원 : Distributed Queue Data Bus
  - 전송 방향이 다른 두 개의 단방향 선로로 모든 호스트를 연결
  - 분산 데이터 큐를 유지
  - 충돌 문제를 해결하기 위해 슬롯 링 개념을 변형한 FIFO 기반의 공유 슬롯 방식을 사용
  - ATM과 호환이 가능하도록 53바이트의 프레임을 지원

### WAN

- 국가 이상의 넓은 지역을 지원하는 네트워크 구조
- 점대점으로 연결된 WAN 환경은 전송과 더불어 교환 기능이 반드시 필요
- 연결의 수가 증가할수록 전송 매체 비용이 많이 필요함

## 인터네트워킹

> 둘 이상의 서로 다른 네트워크를 연결하는 기능

- 라우터: 네트워크를 연결하는 장비이며, 일반적으로 계층 3 기능을 수행
  - 네트워크 간 차이 해결
  - 연결형/비연결형, 프로토콜 종류, 주소체계, 패킷 크기, 멀티케스팅 지원 여부
- 게이트웨이: 일반적인 용어
  - 라우터: 계층 3 기능을 지원, 경로 배정 기능을 수행
  - 브리지: 계층 2 기능을 지원
  - 리피터: 계층 1 기능을 지원

### 브리지

- 연결되는 LAN이 다른 종류일 경우 프레임 해석, 변환 등의 복잡한 작업 필요
- 브리지에 연결되는 LAN 종류만큼 MAC/물리 계층을 처리해야 함 (헤더 변환)
- 두 개 이상의 네트워크 연결 가능

- 트랜스페런트 브리지Transparent Bridge
  - 라우팅 기능을 사용자에게 투명하게 보여줌
  - 브리지 사용자는 프레임에 라우팅 정보를 추가하지 않아도 됨
  - 브리지의 수행 동작
    - 프레임의 송수신자가 동일 방향에 위치하면 수신 프레임 무시
    - 프레임의 송수신자가 다른 방향에 위치하면 수신자 방향으로 프레임 중개

![image](https://user-images.githubusercontent.com/32366711/164257215-4ef559aa-9443-4791-a8c2-280fb2679be6.png)

라우팅 테이블 Routing Table 
- 호스트가 어느 네트워크에 있는지 알기 위해 브리지가 관리하는 테이블
- (호스트 이름: 네트워크 번호)
- LAN이 동작하면서 자동으로 생성      - 
- 역방향 학습Backward Learning 알고리즘 : 라우팅 정보를 얻는 방식
  - 처음에는 라우팅 테이블이 비워져 있다.
  - Flooding: 프레임을 입력 포틀르 제외한 나머지 모든 포트로 전달한다.
  - 전송 정보를 근거로 라우팅 테이블을 갱신한다.
  
  - Host C가 LAN2에서 LAN4로 이동한 경우
![image](https://user-images.githubusercontent.com/32366711/164257563-ac524b02-8b2a-4a92-a7a6-89644ac208eb.png)

스패닝 트리Spanning Tree
- 스패닝 트리 알고리즘 : 비 순환 구조를 지원하는 알고리즘
- 네트워크 그래프를 스패닝 트리 형태로 만든다.
- 루트 지정, 최단 거리 경로 배정

소스 라우팅 브리지Source Routing Bridge
- 트랜스페런트 브리지
  - 공유 버스에서 구현되는 CSMA/CD 방식과 토큰 버스 방식에서 사용. 
  - 간편하지만, 효율적이지 못함
- 소스 라우팅 브리지
  - 링 구조의 네트워크에서 사용
  - 송신자가 전송 프레임 내에 경로 (라우팅) 정보를 제공
  - 브리지는 프레임 내의 경로 정보를 이용하여 중개

### IP 인터네트워킹

> 인터넷에서 네트워크를 연결하는 방식            
> 패킷 중개 기능은 IP 프로토콜이 수행

- 양쪽 MAC 계층이 다르면 패킷 변환 기능이 필요
- 필요시 패킷 분할과 병합 과정도 수행

### 인터넷 라우팅

경로 배정
- 라우터의 역할을 IP 데이터그램을 적절한 경로로 목적지로 전달
- 경로 배정 방법
- 고정 경로 배정
- 적응 경로 배정

- 고정 경로 배정Fixed Routing
  - 송수신 호스트 사이에 영구 불변의 고정 경로를 배정
  - 장점 : 간단하지만 효율적인 라우팅이 가능
  - 단점 : 트레픽 변화에 따른 동적 경로 배정이 불가능
- 적응 경로 배정Adaptive Routing
  - 인터넷 연결 상태가 변하면 이를 전달 경로 배정에 반영
    - 특정 네트워크나 라우터가 비정상적으로 동작하는 경우
    - 네트워크의 특정 위치에서 혼잡이 발생하는 경우
  - 라우터 사이의 시간적인 정보의 불일치성 문제가 항상 존재
  - 단점
    - 경로 결정 과정에서 라우터의 부담이 증가
    - 라우터 간 정보 교환 필요 > 트래픽 증가 > 라우터 처리 부담 증가
- 자율 시스템Autonomous System
  - 동일한 라우팅 특성으로 동작하는 논리적인 단일 구성체
  - 라우팅 프로토콜: 라우터 간 라우팅 정보를 교환하는 프로토콜
  - 내부 라우팅 프로토콜 : 자율 시스템 내부에서 사용
  - 외부 라우팅 프로토콜 : 자율 시스템 간에 사용

## 서비스 품질 QoS

품질
- 데이터를 얼마나 신뢰성 있게 전송하는가
- 관점에 따라 다양한 정의가 있다.
- 데이터 분실, 전송 지연, 지연의 일관성(지터) 관점

서비스 클래스
- 사용자에게 제공되는 네트워크 서비스 등급

### QoS 개요

QoS, Quality of Service
- 전송 계층에서 주로 사용
- 전송 계층을 연결할 때 매개변수로 필요한 서비스 정도를 전달


QoS 매개변수
- 연결 설정 지연Connection Establishment Delay
- 연결 설정 실패 확률Connection Establishment Failure Probability
- 전송률Throughput
- 전송 지연Transit Delay
- 전송 오류율Residual Error Rate
- 우선순위Priority

### 인터넷의 QoS

- IP 프로토콜
  - 모든 패킷에 동일한 기준을 적용
  - 데이터 도착 순서나 100% 수신을 보장하는 않음
- 전송 데이터의 종류별 특징
  - 영상 정보 : 대용량의 실시간 전송, 전송 오류에 관대
  - 컴퓨터 데이터 : 실시간 전송 불필요, 전송 오류에 민감함
- IP 프로토콜에서의 QoS 지원
  - 각 패킷을 서로 다른 QoS 기준으로 구분하여 라우터에서 이를 처리

# 물리 계층

## 전송 매체

전송매체
- 송신기와 수신기 간 물리적 통로
- 유도 전송매체 (유선): 꼬임선, 동축 케이블, 광섬유
- 비유도 전송매체 (무선): 대기, 진공, 물속

전송매체 특성
- 대역폭: 전송매체가 전달할 수 있는 신호의 주파수 범위
  - 대역폭이 넓을수록 데이터 전송률이 높다.
- 전송 손상: 전송매체로 전달되는 신호의 세기가 줄어들거나 변형되는 것
- 지연: 송신기가 보낸 신호가 수신기에 도달하는데 걸리는 시간
- 간섭: 중첩된 주파수 대역에 있는 신호에 의해 영향을 받는 현상
  - 유선: 외부 전자파에 의해 간섭을 받을 수 있다
  - 무선: 여러가지 신호원에 의해 간섭을 받을 수 있다

전송 손상의 종류
- 감쇄(attenuation): 전송매체를 통과하는 거리에 따라 신호가 약해진다.
- 지연 왜곡(delay distortion): 전송매체를 통과하는 신호의 주파수에 따라 신호 전파 속도가 다르다.
- 잡음(noise): 송신측과 수신측의 전송과정에서 불필요한 신호가 추가된다.

유도 매체의 전송 특성
![image](https://user-images.githubusercontent.com/32366711/164260462-49bb7d75-3723-470b-9f8e-67e545b17c14.png)


무선 전송
- 안테나: 전자기 에너지를 방사하거나 모으는데 사용되는 전기 도체
- 안테나로 전파를 송신하고 수신

통신 시스템에 사용되는 전자기 스펙트럼
![image](https://user-images.githubusercontent.com/32366711/164260513-a80e37be-6b74-49b2-918d-36b69fcca4a3.png)


무선 전송 주파수 대역
- 라디오 방송 (30MHz ~ 1GHz)
  - 라디오 방송 대역
  - 전방향 응용
- 마이크로파 (1GHz ~ 40GHz)
  - 빔의 방향성이 좋다.
  - 점대점 전송에 적합하다.
  - 위성 통신에 쓰인다.
- 적외선 (300 GHz 이상)
  - 짧은 거리의 점대점 통신 (리모콘)

## 데이터와 신호

- 데이터 data 의미 또는 정보를 전달하는 개체
- 신호 signal 데이터를 전기 또는 자기 신호로 표현한 것
- 신호 방식 siganling 적절한 전송매체로 신호를 물리적으로 전파하는 것
- 전송 transmission 신호 전파와 처리를 통한 데이터 통신

아날로그/디지털 데이터
- 아날로그 데이터: 연속적으로 변하는 값 (continuous value). 음성, 비디오
- 디지털 데이터: 불연속 값 (discrete value). 텍스트 (문자열)

아날로그/디지털 신호
- 아날로그 신호
  - 다양한 스펙터럼의 전송매체를 통해 전파될 수 있는 연속적인 전자기파
  - 유선(꼬임선, 동축 케이블, 광 케이블), 무선 통신 가능
- 디지털 신호
  - 유선매체를 통해 전송될 수 있는 전압 펄스열
  - 예) 0과 1을 두 가지 전압 레벨에 대응

디지털 신호의 특성
- 아날로그 신호 방식에 비해 잡음에 강하다.
- 아날로그 신호보다 감쇄가 크다.
- 그림: 디지털 신호의 감쇄(attenuation

데이터와 신호
- 아날로그 데이터를 아날로그 신호로 표현하는 방법 (전화기)
- 디지털 데이터를 아날로그 신호로 표현하는 방법 (모뎀)
- 아날로그 데이터를 디지털 신호로 표현하는 방법 (코덱)
- 디지털 데이터를 디지털 신호로 표현하는 방법 (digital transciver

신호 전송
- 아날로그 신호 전송
  - 시스템 간 통신 (loosely coupled)
  - 신호는 아날로그 데이터일 수도 있고 디지털 데이터일 수도 있다.
- 디지털 신호 전송 (digital transmission)
  - 시스템 내 전송 (tightly coupled)
  - 디지털 신호의 내용에 관심을 둔다.

데이터와 신호
- 아날로그 데이터 -- 아날로그 신호
  - 신호: 일정한 스펙트럼을 점유한다.
  - 전송: 증폭기를 사용해서 전파된다.
- 아날로그 데이터 -- 디지털 신호
  - 신호: 코덱으로 디지털 비트열로 인코딩
  - 전송: 디지털 신호는 리피터로 전파
- 디지털 데이터 -- 아날로그 신호
  - 신호: 모뎀으로 신호로 변환
  - 전송: 아날로그 전송 시스템 사용
- 디지털 데이터 -- 디지털 신호
  - 신호: 전압 레벨
  - 전송: 시스템 내부 (통신 대상이 아님)

디지털 전송의 장점
- 데이터 무결성: 잡음이나 신호 손상에 의한 잡음에 강하다.
- 전송 용량 활용: 다중화(multiplexing) 기술로 채널에 여러 신호를 복합 전송한다.
- 보안: 암호화 기술 적용이 쉽다.
- 통합: 음성, 비디오, 디지털 데이터를 통합하기 쉽다.
- 반도체 기술 발전

## 신호 특성

아날로그와 디지털 신호
- 아날로그 신호: 신호의 세기가 시간에 따라 연속적으로 변한다. (불연속점이 없다)
- 디지털 신호: 신호의 세기가 일정 시간 동안 유지하다가 갑자기 변한다

주기 신호(periodic signal)
- 일정한 시간 간격으로 같은 모양이 반복되는 신호
- 사인파(정현파): 가장 기본적인 주기 신호
- A: 진폭, f: 주파수, : 위

복합 신호
- 여러 주파수 값을 갖는 사인파의 합
- 푸리에 급수(Fourier Series)로 각 주파수 성분을 분해할 수 있다.

용어
- 데이터 전송률: 단위 시간 당 전송할 수 있는 데이터 양
- 대역폭(bandwidth): 신호의 주파수 범위. 신호 에너지의 대부분이 집중되어 있는 대역

데이터 전송률과 대역폭(bandwidth)
- 전송 시스템(송신기+전송매체+수신기)는 제한된 대역폭을 갖는다.
- 이 특성은 전송매체를 통해 전달될 수 있는 데이터 전송률을 제한한다.

방형파
- 구형파는 주파수 대역이 무한대
- 대부분의 에너지는 앞 부분 몇 개의 주파수 성분에 집중되어 있다.
- 전송 시스템을 거치는 동안에 왜곡이 발생한다

채널 대역폭에 따른 방형파 신호 왜곡
- 전송 시스템의 대역폭이 클 수록 왜곡이 적다

## 신호 전송

아날로그/디지털 신호를 전자기 신호로 표현하는 방법
- (인코더) 아날로그/디지털 신호를 디지털 신호로 만들어 전송
- (디코더) 디지털 신호를 수신하여 원 신호를 재생
- (변조) 아날로그/디지털 신호를 아날로그 전자기파로 만들어 전송 (carrier+signal)
- (복조) 전자기파를 수신하여 원 신호를 재생

### 디지털화
- 아날로그 데이터를 디지털로 변환해서 전송하는 과정
- 디지털화 (digitization)
- 아날로그 신호를 디지털 신호로 변환하는 과정
- 디펄스 코드 변조(PCM, Pulse Code Modulation): 펄스 크기를 숫자로 바꾸는 방법(인코드)
- 델타 모듈레이션(Delta Modulation): 비교기 출력을 숫자로 바꾸는 방법

### 디지털 신호 표현

디지털 신호
- sequence of discrete, discontinous voltage pulses
- each pulse is a signal element
- binary data are transmitted by encoding each data bit into signal elements

용어
- 데이터 요소 (data elemtent): 디지털 데이터를 표현하는 요소. 0 or 1
- 데이터 율 (data rate): 시간당 데이터 전송률, bps (bits per second)
- 비트 시간 (duration or length of a bit): 한 비트를 전송하는데 소요되는 시간
- 신호 요소 (signal element): 하나의 신호 코드 값을 나타내는 최단 구간
- 변조율 (modulation rate): 신호 요소를 전송하는 속도. 시간당 신호 요소 수 (baud)

디지털 신호 인코딩 형식
- 천이(transition): 0에서 1로 또는 1에서 0으로 변하는 것
![image](https://user-images.githubusercontent.com/32366711/164261397-0a776a60-5424-498a-8b2d-a60bd9f16a0d.png)

### 아날로그 신호 전송

아날로그 변조
- 아날로그 통신, 디지털 통신에 사용
- 고주파는 전송에 유리

아날로그 신호
- 세 가지 요소: A: 진폭, f: 주파수, : 위상
- 신호 요소: binary (2비트), quadrature(4비트)

아날로그 인코딩 (신호 변조) 방법
- ASK (amplitude shift keying)
- FSK (frequency shift keying
- PSK (phase shift keying)


# 데이터 전송의 기초

## 데이터 전송 방식

컴퓨터 네트워크 효과
- 자원 공유
  - 컴퓨터 하드웨어, 소프트웨어 등 모든 종류의 물리적, 논리적 자원을 공유
  - 자원 활용의 극대화
- 병렬 처리에 의한 성능 향상
  - 병렬처리 (tightly coupled)
    - 하나의 공유 시스템 버스에 다수의 메인 프로세서를 장착
    - I/O 장치의 처리 속도를 향상시키기 위해 I/O 전용 프로세서를 설치
  - 분산처리 (loosely coupled)
    - 네트워크 기능 활용
- 중복 저장으로 신뢰성 향상 – redundancy
  - 중복 저장되므로 데이터 복구가 용이함
  - 신뢰성의 향상 정도만큼 시스템 성능은 저하됨

### 전송과 교환

- 교환Switching : 라우터에서 데이터를 어느 방향으로 전달할지를 선택하는 기능
- 전송Transmission : 일대일(1:1)로 직접 연결된 두 시스템간의 신뢰성 있는 데이터 전송을 보장


호스트 a에서 호스트 d로 데이터를 전달
1. 호스트 a와 호스트 c 간의 직접 연결에 의한 전송
2. 호스트 c에서의 올바른 경로 선택을 의미하는 교환
3. 호스트 c와 호스트 d 간의 직접 연결에 의한 전송

![image](https://user-images.githubusercontent.com/32366711/164274418-ecc3702b-5931-4052-8b29-3e2b9e15f5c1.png)


전송 방식의 종류
  - 지리적 분포에 따른 분류 방식
    - LANLocal Area Network(근거리 통신망)
    - MANMetropolitan Area Network(도시규모의 통신망)
    - WANWide Area Network(원거리 통신망) 등
  - 데이터 전송교환 기술의 분류 방식
    - 점대점Point-to-Point 
    - 브로드캐스팅Broadcasting 방식
  - 점대점 방식
    - 호스트가 중개 호스트와 일대일로 연결
    - 원거리에 있는 시스템 사이의 통신 방식, WAN 환경에서 주로 사용
  - 브로드캐스팅 방식
    - 네트워크에 연결된 모든 호스트에 데이터가 전송
    - 별도의 교환 기능이 불필요
    - LAN처럼 지리적으로 가까운 호스트 사이의 통신에서 주로 사용

### 점대점 방식

점대점 방식
- 교환 호스트가 송수신 호스트의 중간에 위치, (스타형, 링형, 완전형, 불규칙형)
- 연결 개수가 많아지면 성능은 유리하나 비용이 많이 소요, 연결 개수가 적어지면 전송 매체를 많이 공유해 네트워크 혼잡도 증가

스타Star형
- 하나의 중개 호스트 주위로 여러 호스트를 일대일로 연결하는 형태
- 중앙 호스트의 신뢰성과 성능이 네트워크에 영향 줌
- 트리Tree형 : 중앙에 있는 스타 구조 주변에 위치한 호스트들을 중심으로 새로운 스타 구조가 확장되는 형태
  - 장단점 : 중개 과정이 간단하나 중앙 호스트에 문제발생시 전체 네트워크의 동작에 영향을 줌


링Ring형
- 호스트의 연결이 순환 고리 구조
- 모든 호스트가 데이터 전송과 교환 기능을 동시에 수행
- 토큰Token
  - 호스트 사이의 데이터 송신 시점을 제어하는 기능
  - 데이터의 전송 권한을 의미하는 토큰을 확보
  - 데이터 전송이 완료되면 토큰을 다시 링 네트워크에 돌려줌
- 단점
  - 한 호스트가 고장나면 전체 네트워크가 동작하지 않을 수 있음

완전형
- 모든 호스트가 다른 모든 호스트와 일대일로 직접 연결하는 방식
- 단점 : 전송 매체가 증가하면 비용 측면이 비효율적임

불규칙형
- 연결 구조를 특정 패턴으로 분류할 수 없는 방식(일반 네트워크

### 브로드 캐스팅 방식

- 특정 호스트가 전송한 데이터가 네트워크에 연결된 모든 호스트에 전달
- LAN 환경에서 사용(교환 호스트 불필요)
- 종류 : 버스형, 링형

버스Bus형
- 전송 데이터를 모든 호스트에서 수신할 수 있음
- 충돌Collision : 둘 이상의 호스트에서 데이터를 동시에 전송할때 충돌 발생
- 충돌 해결 방법
  - 1 호스트의 전송 권한을 제한함
    - 사전에 전송 권한을 확보하는 방법 : 시간대를 다르게 지정하는 방법, 토큰으로 전송 권한을 순환적으로 이용하는 방법
  - 2 충돌 허용
    - 둘 이상의 호스트가 데이터를 동시에 전송할 수 있도록 허용, 충돌 발생시에 해결 과정 필요
    - 예 : 이더넷Ethernet

링Ring형
- 호스트를 순환 구조로 연결
- 송신 호스트가 전송한 데이터는 링을 한 바퀴 순환한 후 송신 호스트에 되돌아옴
- 중간의 호스트 중에서 수신 호스트로 지정된 호스트만 데이터를 내부에 저장
- 데이터를 전송하기 위해서는 토큰 확보가 필수

### 멀티포인트 통신

- 유니캐스팅Unicasting 방식
    - 두 호스트 사이의 데이터 전송 (텔넷, FTP, 웹 검색)
- 멀티포인트Multipoint
    - 일대다(1:n), 다대다(n:n) 형식 (화상 회의, 원격 교육, 인터넷 채팅)


- 하나의 송신 호스트를 기준으로
  - 수신 호스트 하나와 연결 : 유니포인트Unipoint
  - 다수의 수신 호스트와 연결 : 멀티포인트Multipoint
- 송신 호스트가 한 번의 전송으로
  - 수신 호스트 하나에만 데이터 전송 : 유니캐스팅Unicastin
  - 다수의 수신 호스트 전송 : 멀티캐스팅Multicasting

멀티포인트 유니캐스팅MultipointUnicasting
- 일대다 통신을 위해 멀티포인트 유니캐스팅 방식을 사용
- a -> (d, e, f): 각 수신 호스트와 개별적으로 연결을 설정
- 송신 호스트가 다수의 복사본을 개별 수신 호스트에게 전송
- 단점 : 수신 호스트 수가 많아지면 성능에서 문제 발생
- 장점 : 송수신 호스트 사이의 흐름 제어와 수신 호스트의 응답 기능 및 재전송 기능 등을 구현하기 좋음

브로드캐스팅Broadcasting
- 네트워크에 연결된 모든 호스트에 전송되는 방식
- 단점 : 호스트 수가 많을수록 네트워크 트래픽이 급격히 증가 (서브넷Subnet 내에서 이용이 좋음)
- 특정한 브로드캐스팅 주소로 전송
- 네트워크 장비에서는 전달된 패킷을 복사하여 네트워크 전체로 전송


멀티캐스팅Multicasting
- 일대다 전송 기능을 구현 : 통신 환경을 연결 설정 요구 한 번으로 지원 가능
- 송신 호스트의 전송 요구 한 번으로 모든 수신 호스트에 데이터를 전달
- 예) 비디오.오디오 서비스, 화상 회의 서비스, 인터넷 뉴스, 인터넷 주식
- 그룹 생성 및 관리 기능 필요
  - 호스트가 특정 그룹에 가입하고 탈퇴하는 기능
  - 라우터가 그룹 주소를 인식해서 다수의 수신 호스트로 중개하는 기능


## 오류 제어

데이터 링크 계층 프로토콜의 오류 제어 기능
- 전송 프레임에 대한 응답 프레임(acknowledge)
- (watch dog) timer
- Sequence number

### 전송 오류의 유형

신뢰성 있는 서비스를 제공하기 위하여 필요한 기능
- 수신 호스트의 응답 프레임
  - 송신 호스트에게 응답 프레임을 전송해 원래의 데이터 프레임을 재전송하도록 요구
  - 긍정 응답 프레임
  - 부정 응답 프레임 : 송신 호스트의 재전송 기능 작동
- 송신 호스트의 타이머 기능
  - 타임아웃Timeout 
    - 데이터 프레임을 전송한 후에 일정 시간 이내에 수신 호스트로부터 긍정 응답
    - 프레임 회신이 없으면 데이터 프레임을 재전송함
- 순서 번호Sequence Number 기능
  - 데이터 프레임 내에 프레임 구분을 위한 일련 번호 부여
  - 수신 호스트가 중복 프레임을 구분할 수 있도록 지원

정상적인 전송
- 송신 호스트가 전송한 데이터 프레임이 수신 호스트에 오류 없이 도착
- 수신 호스트는 송신 호스트에게 긍정 응답 프레임을 회신

프레임 변형
- 프레임 변형 오류를 인지한 수신 호스트는 송신 호스트에 부정 응답 프레임을 전송, 원래의 데이터 프레임을 재전송함
- 부정 응답 프레임을 사용하지 않는 프로토콜에서는 송신 호스트의 타임아웃 기능에 따라 복구 과정을 시작

프레임 분실
- 송신 호스트는 데이터 프레임을 전송한 후에 특정 시간까지 수신 호스트의 긍정 응답 프레임이 도착하지 않으면 타임아웃 기능에 따라 원래의 프레임을 스스로 재전송

### 순서 번호

순서 번호
- 중복 수신 문제를 해결하기 위해 데이터 프레임에게 부여되는 고유 번호
- 순서 번호의 필요성
  - 긍정 응답 프레임이 사라지는 오류 발생시 송신 호스트의 타임아웃 기능에 따라 재전송 과정이 진행됨  동일한 프레임 중복 수신
  - 수신 호스트가 두 경우((a) 긍정 응답 분실, (b) 긍정 응답 도착)를 구분할 수 있도록 데이터 프레임별로 고유의 순서 번호를 부여하는 방식이 필요

순서 번호에 의한 프레임 구분
- 순서 번호에 근거하여 동일한 데이터 프레임이 중복 도착여부를 확인 가능
- 수신 호스트는 다른 데이터 프레임이 도착함을 알 수 있다.

### 흐름 제어, Flow Control

- 수신 호스트가 감당할 수 있을 정도의 전송 속도를 유지하면서 데이터 프레임을 전송
- 너무 빨리 전송하는 경우
  - 수신 호스트가 내부 버퍼에 보관하지 못할 수 있음
  - 이는 프레임 분실과 동일한 효과를 야기함
- 기본 원리
  - 수신 호스트가 송신 호스트의 전송 시점을 제어
  - 대표적인 예: 슬라이딩 윈도우 프로토콜

## 프레임

- 데이터 링크 계층 : 전송 데이터를 프레임Frame 단위로 나누어 처리
- 전송 프레임 : 체크섬Checksum, 송수신 호스트 주소, 제어 코드 등 정보 포함
- 내부 정보를 표현하는 방식에 따라 문자 프레임과 비트 프레임으로 구분

수신 호스트
- 체크섬으로 변형 오류 확인
- 긍정/부정 응답 프레임 전송

### 문자 프레임, Character Frame

- 내용이 문자로 구성
- 8비트 단위(또는 ASCII 문자 코드)의 고정 크기로 동작
- 프레임의 구조
  - 프레임의 시작과 끝에 특수 문자 사용
    - 시작 : DLE / STX
    - 끝 : DLE / ETX
  - 전송 데이터에 특수 문자가 포함되면 혼선이 발생

문자 스터핑Character Stuffing
- 문자 프레임의 전송 과정에서 제어 문자를 추가하는 기능
- (a) 전송: 전송 데이터가 DLE 문자를 포함하면 뒤에 DLE 문자 하나를 강제 추가
- (b) 수신: 데이터에 DLE 문자가 두 번 연속 있으면 하나의 DLE 문자 삭제
![image](https://user-images.githubusercontent.com/32366711/164275559-53d4a2ff-276e-4cd2-9a82-5b10066b6223.png)


### 비트 프레임

비트프레임, Bit Frame 
- 프레임의 시작과 끝 위치에 플래그라는 특수하게 정의된 비트 패턴(01111110)을 사용해 프레임 단위를 구분

프레임의 구조
- 데이터 전송 전에 프레임의 좌우에 플래그를 추가, 수신 호스트는 이 플래그를 제거해 전송 데이터와 필요한 제어 정보를 상위 계층 전달

비트 스터핑Bit Stuffing
- 전송 데이터에 플래그 패턴이 포함되면 혼선이 발생
- 송신 호스트 : 전송 데이터가 1이 연속해서 5번 발생하면 강제로 0을 추가
- 수신 호스트 : 송신 과정에 추가된 0을 제거하여 원래의 데이터를 상위 계층 전달

## 다항 코드

오류를 극복하는 방법
- 오류 검출
  - 전송 프레임에 오류 검출 코드를 넣어 수신 호스트가 전송 과정의 오류를 검출
  - 패리티, 다항 코드
- 순방향 오류 복구FEC, Forward Error Correction :
  - 오류 복구 코드를 사용해 수신 호스트가 오류 복구 기능을 수행하는 방식
  - hamming code

### 오류 검출

- 역방향 오류 복구BEC, Backward Error Correction (ARQAutomatic Repeat reQuest 방식)
: 재전송 방식을 이용해 오류 복구(네트워크에서 일반적으로 사용)

패리티Parity 비트
- 1 바이트(8비트) = 7 비트 ASCII 코드 + 1 패리티 비트
- 짝수 패리티 : 데이터 끝에 패리티 비트를 추가해 전체 1의 개수를 짝수로 만듦
- 홀수 패리티 : 1의 개수를 홀수로 만드는 것
- 송신 호스트와 수신 호스트는 동일한 패리티 방식을 사용해야 함

블록 검사
- 짝수개의 비트가 깨지는 오류를 검출
- 수평, 수직 방향 모두에 패리티 비트를 지정

![image](https://user-images.githubusercontent.com/32366711/164275875-97cfab43-e9ec-4249-98c6-c2fa3b5d3925.png)


### 다항 코드

다항 코드Polynomial Code (CRCCyclic Redundancy Code)
- 생성 다항식
  - 계수가 0과 1인 다항식 형태를 기반
  - 10_0101 = $1 * x^5 + 0 * x^4 + 0 * x^3 + 1 * x^2 + 0 * x^1 + 1 * x^0 = x^5 + x^2 + 1$

![image](https://user-images.githubusercontent.com/32366711/164276184-a06ec256-b6f0-4382-819e-50851fa59a56.png)

생성 다항식: 연산 나머지가 체크섬(CRC)
- 전송 데이터 : m비트의 M(x)
- n+1비트의 생성 다항식 G(x)를 사용해 오류 검출 코드를 생성, 오류 제어
- 전송 데이터 M(x)를 생성 다항식 G(x)로 나누어 체크섬Checksum 정보를 얻음

체크섬 계산인 나누기 과정에서 발생하는 다항 연산은 모듈로-2 방식
- 덧셈과 뺄셈은 배타적 논리합 (XOR) 연산과 동일한 결과를 얻음


수신 호스트는 전송 오류가 발생했는지를 판단하기 위해 수신한 m+n비트의 데이터를 생성 다항식 G(x)로 나누는 연산을 수행
- 나머지가 0 : 전송 오류가 없음
- 나머지가 0이 아님 : 오류가 발생했다고 판단

![image](https://user-images.githubusercontent.com/32366711/164276287-cb3e1874-a734-4a4d-8ba2-7ddb05140b8c.png)


# MAC 계층

LAN
- 근거리 호스트 연결 방식
- 연결 방식과 전송 방법도 네트워크 전송 효율에 영향을 준다.
-IEEE 802 시리즈
- LAN 환경의 계층 2에 대한 표준안 정의



## MAX 계층과 IEEE 802 시리즈

MAC 계층의 이해
- LAN 환경에서 계층 2 기능을 MAC과 LLC 계층으로 분리
  - LLC 계층 : 데이터 링크 계층의 기본 기능
  - MAC 계층 : 전송 선로의 특징과 매체 간의 연결 방식에 따른 제어

MAC 계층
- MACMedium Access Control 계층 : 물리적 연결 방식에 따른 데이터 전송 방법
- 이더넷
  - 공유 버스 방식 지원
  - 둘 이상의 호스트에서 동시에 데이터 프레임 전송을 시도하면 충돌 발생
- 토큰 링 방식
  - 링 구조를 지원
  - 토큰이라는 특정 패턴의 제어 데이터가 링을 순환
  - 토큰을 확보하여 전송 후 토큰은 링에 내려 놔야 함
  - 각 호스트에 전송 우선순위를 부여할 수 있음

LLC 계층 (6장)
- LAN, WAN 환경의 데이터 링크 계층과 기능을 수행
- 오류 재전송
- 흐름 제어(sliding window protocol)


다중 접근 채널 (multiple access control) 방식
- 버스 구조
- 데이트 충돌 가능성이 있다

![image](https://user-images.githubusercontent.com/32366711/164276725-c98479b0-ebd7-4896-9c39-db27f311f070.png)



충돌 해결 방법
- 충돌 허용 후 문제 해결
  - 충돌 발생 후 문제를 해결한다.
  - CSMA/CD: carrier sense multiple access/collision detection (유선 매체)
  - CSMA/CA: carrier sense multiple access/collision avoidance (무선 매체)
- 충돌 회피
  - 충돌이 발생할 가능성을 원천적으로 차단한다.
  - 호스트에 타임슬롯(time slot) 배정: 토큰 버스

CSMA/CDCarrier Sense Multiple Access/Collision Detection
- 충돌 감지 기능이 필수적으로 요구됨
- 충돌 감지 후, 재전송 기능으로 오류 복구
- 공유 매체의 길이가 길수록 전송 지연이 증가하여 충돌 가능성이 높아짐

토큰 버스Token Bus
- (time slot 할당 방법)
- 물리적인 버스 구조(점선)로 연결되지만 논리적인 프레임 전달은 링 구조(실선)
- 토큰이라는 제어 프레임을 사용, 반드시 토큰을 확보해야 함

토큰 링
- 물리적으로 링 구조를 지원
- 호스트의 동작 방식 : 대기 모드, 전송 모드
- 대기 모드
  - 입력단으로 들어온 데이터를 바로 출력단으로 보냄
  - 호스트가 다운되거나 기타 장애가 발생해도 네트워크에 영향을 주지 않기 위함
- 전송 모드
  - 토큰을 확보해 데이터를 전송할 수 있는 권한을 보유한 상태
  - 호스트가 중개 기능을 수행하며, 출력단을 통해 데이터를 전송할 수 있음
- 송신 호스트가 전송한 프레임이 링을 한 바퀴 돈 후 송신 호스트에 되돌아옴
- 프레임이 올바로 전송되면 데이터 프레임을 회수하고 토큰 프레임을 링에 반환

## 이더넷

IEEE 802.3
- 1-persistent CSMA/CD 방식의 LAN 환경에 관해 규정한 표준안
- 공유버스로 연결한 호스트 간의 데이터 전송에 관한 사항
- Ethernet
  - 802.3 표준안을 구현한 제품
  - 현재는 일반화된 용어로 사용한다

이더넷과 신호 감지 기능
- 신호 감지Carrier Sense 프로토콜
  - 전송 매체의 신호를 감지해 프레임의 전송 여부를 결정
- 1-persistent CSMA
  - 프레임을 전송하기 전에 채널 사용 여부를 확인
  - 채널이 사용 중이면 유휴 상태가 될 때까지 계속 대기
  - 채널이 유휴 상태가 되면 확률 1의 조건으로 프레임을 전송
  - 둘 이상의 호스트에서 동시에 전송 채널을 유휴 상태로 판단하면
    - 충돌 발생 가능성이 있다. 충돌이 발생하면 임의 시간 대기 후 다시 채널 감시
- Non-persistent CSMA
  - 프레임을 전송하기 전에 채널 사용 여부를 한 번만 확인
  - 채널이 사용 중이면 더 이상 유휴 상태를 확인하지 않음
  - 대신 임의의 시간 동간 대기 후 다시 채널 감지를 시작
  - 1-persistent 방식보다 충돌 확률을 줄일 수 있음
- p-persistent CSMA
  - 슬롯 채널 방식에서 많이 사용
  - 채널이 유휴 상태이면 p의 확률로 프레임을 전송
  - 채널이 사용 중이면 다음 슬롯을 기다린 후 앞의 과정을 반복
- CSMA/CD
  - 둘 이상의 호스트에서 채널이 유휴 상태라고 판단할 수 있음
  - 이런 경우 프레임 전송 과정에서 충돌이 발생
  - 따라서 충돌 감지 기능이 필수적으로 요구됨
  - 충돌이 감지되면 진행중인 프레임의 전송을 중지

이더넷의 연결
- 굵고 긴 전송케이블로 된 전송 매체에 트랜시버 장비로 보조선을 연결해 각 호스트를 연결
- 트랜시버는 호스트를 전송 케이블에 연결하기 위한 송수신 장치
- 트랜시버는 충돌이 발생했음을 알려줌으로써 무의미한 프레임 전송을 억제
- 리피터는 단순히 신호를 증폭하여 이웃하는 케이블로 넘겨주는 기능
- 왼쪽 케이블에서 전송되는 신호는 리피터를 통해 오른쪽으로 전달, 반대 방향으로도 신호를 증폭해 전달

트랜시버 : 전송 선로의 신호 감지, 충돌 현상 감지

프레임 구조
- MAC 프레임MAC Frame : MAC 계층 프로토콜에 정의된 MAC 헤더와 트레일러 정보를 추가한 것
- MAC 프레임은 LLC 계층에서 보낸 정보를 전송 데이터로 취급, 데이터 앞에는 헤더가, 뒤에는 트레일러가 위치 헤더:데이터:트레일러
- 이더넷 프레임Ethernet Frame 구조
  - 필드의 단위는 바이트
  - Source Address와 Destination Address 필드 : 6바이트의 MAC 주소를 사용
  - Data와 Padding 필드 : 가변 길이를 지원
  - Data 필드 왼쪽에 위치한 필드들은 헤더, 오른쪽은 트레일러에 속함

![image](https://user-images.githubusercontent.com/32366711/164277199-f6cb16e7-2ca4-4010-80f4-970cf92ee7e5.png)


헤더와 트레일러에서 정의한 필드의 의미
- Preamble(프리엠블) : 7바이트 크기로, 수신 호스트가 송신 호스트의 클록과 동기를 맞출 수 있도록 시간 여유를 제공하는 것이 목적 1010_1010
- Start Delimiter(시작 구분자) : 프레임이 시작된다는 의미로 사용, Preamble 필드와 구분하기 위해 1010_1011의 값을 갖음
- Source Address/Destination Address(송신 호스트 주소/수신 호스트 주소) : MAC 계층에서는 호스트를 구분하는 고유의 MAC 주소를 사용
- Length/Type : 필드 값이 1,500 이하이면 Data 필드의 데이터 크기를 의미하는 Length로 해석하고, 그렇지 않으면 Type으로 해석
- Length(길이) : Data 필드에 포함된 가변 길이의 전송 데이터 크기
- Type(종류) : 이더넷 프레임에 캡슐화된 상위 프로토콜의 패킷 종류를 구분
- Checksum(체크섬) : 데이터 전송 과정에서 데이터 변형 오류의 발생 여부를 수신 호스트가 확인할 수 있도록 송신 호스트가 값을 기록

LLC 프레임 캡슐화
- 이더넷 프레임에서 Data 필드를 제외한 필드들이 MAC 계층에서 추가하는 정보

허브와 스위치
- 허브 : 박스 형태의 장비에 잭을 연결해서 이더넷 네트워크를 구성
- 스위치 허브 : 허브의 성능을 향상시킨 장비

허브Hub
- 각 호스트는 외형상 허브에 스타형 구조로 연결
- 허브의 내부 동작은 공유 버스 방식

스위치
- 모든 호스트에게 프레임을 전송하지 않음
- 목적지로 지정된 호스트에게만 프레임 전송 (교환)
- 따라서 동시에 여러 호스트가 데이터를 전송할 수 있음
- 장점
  - 스위치 허브의 용량이 허용되면 각각의 호스트는 할당된 LAN 용량을 모두 사용함
  - 일반 허브를 스위치 허브로 교체하는 과정이 간단함

## 토큰 버스

- Ethernet 문제점
  - 네트워크 트래픽이 심할 때 특정 호스트가 오랫동안 프레임을 전송하지 못할 수 있다.
  - 프레임의 우선순위가 규정되어 있지 않아 프레임의 중요도를 표현하기 어렵다.
- 링 구조의 토큰 버스
  - 호스트가 순서를 정해서 프레임을 전송한다.
  - 토큰 버스: 버스 구조에 토큰 방식을 논리적으로 구현

프레임 구조
- LLC 계층에서 내려온 LLC 프레임을 수신 호스트에 전달하려면 토큰 버스프레임을 만들어야 함
- 토큰 버스 프레임의 구조
  - 데이터 프레임과 토큰 프레임을 구분하기 위한 Frame Control 필드가 추가됨

헤더와 트레일러에 정의된 필드의 기능
- Start Delimiter/End Delimiter(시작 구분자/끝 구분자)
  - 프레임의 시작과 끝을 의미하는 경계를 표시
- Preamble/Source Address/Destination Address/Checksum(프리엠블/송신 호스트 주소/수신 호스트 주소/체크섬) 
  - 이더넷 프레임과 기능이 동일
- Frame Control(프레임 제어)
  - 데이터 프레임과 제어 프레임을 구분
  - ![image](https://user-images.githubusercontent.com/32366711/164277570-e3269505-c533-4881-8b28-37b336d00f16.png)

LLC 프레임 캡슐화
- LLC 프레임의 좌우에 토큰 버스 프레임의 헤더와 트레일러 정보가 채워지면 물리 계층이 수신 호스트로 전송. 
- 수신 호스트의 MAC 계층은 토큰 버스 프레임의 헤더와 트레일러 정보를 떼어내고, 상위 계층인 LLC 프로토콜에는 LLC프레임 정보만 올림

## 토큰 링

토큰 링
- 점대점으로 연결한 호스트가 순환 구조로 LAN을 구성
- 토큰(제어 프레임)이 일정한 방향으로 순환
- 데이터 프레임을 보내려면 먼저 토큰을 확보해야 함

프레임 구조
- 토큰 링 프레임Token Ring Frame
  - 토큰 프레임 : SD, AC, ED 필드
  - 데이터 프레임
  - ![image](https://user-images.githubusercontent.com/32366711/164278855-8d47505f-0fcd-4391-8bae-e5e82ba51b36.png)

- 모니터Monitor : 특별한 기능을 수행하는 관리 호스트
  - 토큰 분실 시 토큰 생성
  - 무한정 순환하는 데이터 프레임 제거

LLC 프레임 캡슐화
- LLC 계층에서 MAC 계층으로 전송 요청이 내려온 LLC 프레임을 토큰 링프레임의 구조로 캡슐화하는 과정

프레임 필드의 의미

- Start Delimiter/End Delimiter
  - 프레임의 시작과 끝을 구분
  - End Delimiter 필드
    - I 비트는 데이터 프레임을 여러 개로 나누어 전송하는 경우에 사용
    - E 비트는 오류 검출용
- Access Control
  - 우선순위 비트 : 토큰의 우선순위보다 높은 프레임을 전송할 수 있음
  - 토큰 비트 : 토큰 프레임과 일반 프레임을 구분, 토큰 프레임은 값이 0
  - 모니터 비트 : 오류발생시 링 주위를 무한정 순환을 막기 위해 특정 호스트를 모니터로 지정, 모니터 호스트는 프레임에 M을 1로 만들고, 이것이 다시 돌아오면 링에서 제거함
  - ![image](https://user-images.githubusercontent.com/32366711/164279025-8bd13ff2-6b16-40d0-9ac0-7eb5a61c0723.png)
- Frame Control
  - LLC 계층에서 목적지 호스트로 전송해줄 것을 요청한 LLC 프레임과 토큰 링 프로토콜에서 사용하는 제어용 프레임을 구분하는 데 사용
  - TT 비트=00 : 제어 기능을 수행하는 프레임을 위해 정의, CCCCCC 비트의 코드값으로 제어 명령의 종류를 구분
  - TT 비트=01 : 상위 계층인 LLC 계층에서 전송을 요구한 LLC 프레임을 의미
  - ![image](https://user-images.githubusercontent.com/32366711/164279069-08b1653e-9e7f-4e96-8b0c-063fd67477d8.png)
- Frame Status
  - 토큰 링 프레임의 맨 마지막에 위치, 프레임의 수신 호스트가 송신 호스트에 응답할 수 있도록 함
  - 두 개의 플래그 비트 A, C 필드로 정의
    - 한 쌍의 값이 동일한 경우에만 유효한 응답으로 정의, 다르면 0으로 처리되어 무시됨
  - A 비트 : 수신 호스트가 접근(access)했다는 표시로 1 지정
  - C 비트: 수신 호스트가 자신의 내부 버퍼에 보관(copy)했다는 표시로 1 지정
  - ![image](https://user-images.githubusercontent.com/32366711/164279130-b3f7f6e1-4bfb-4ea9-839d-2c8ab66eb8e9.png)



# 데이터 링크 계층

## 데이터 링크 계층 프로토콜의 기초

- 데이터 링크 계층에서 두 호스트가 통신하려면 일대일(1:1)형식의 점대점 방식으로 연결해야 함
- 점대점 연결 : 주소 개념 불필요
- 멀티드롭 연결 : 주소 개념 필요
- 물리 계층에서 오류 제어 방식으로 재전송 기법을 사용
- 데이터 링크 계층의 주요 기능은 두 호스트 간 물리적 오류 복구

프레임의 종류
- 정보 프레임 (Information frame, I 프레임)
  - 상위 계층이 전송을 요구한 데이터를 수신 호스트에 전송하는 용도로 사용
  - 순서번호, 송수신 호스트 정보 등이 포함됨
- 긍정 응답 프레임 ( ACK 프레임 )
  - 전송 데이터가 올바르게 도착했음을 회신하는 용도
  - 데이터를 수신한 호스트가 데이터를 송신한 호스트에게 전송
- 부정 응답 프레임 ( NAK 프레임 )
  - 전송 과정에서 프레임 변형 오류가 발생했음을 회신하는 용도
  - 원래의 정보 프레임을 재전송하도록 요청
  - 송신 호스트는 오류가 발생한 프레임을 동일한 순서 번호로 다시 전송


오류·흐름 제어가 없는 프로토콜
- 가정 : 이상적인 통신환경
  - 단방향 통신 : 데이터는 송신 호스트에서 수신 호스트로만(한쪽 방향으로만) 전달
  - 전송 오류 없는 물리 매체 : 통신 채널에서는 전송 오류가 발생하지 않음
  - 무한 개의 수신 버퍼 : 수신 호스트의 버퍼 수는 무한함
- 단순 프로토콜
  - 송신 호스트는 원하는 만큼 자유롭게 프레임을 전송할 수 있음
  - 오류 제어 (X): 프레임 분실/변형 오류가 발생하지 않음
  - 흐름 제어 (X): 수신 버퍼가 무한이므로 분실 오류 없음

오류 제어가 없는 프로토콜
- 가정 : 수신 호스트의 버퍼 개수가 유한(버퍼 개수 제한)
  - 단방향 통신 : 데이터는 송신 호스트에서 수신 호스트로만(한쪽 방향으로만) 전달
  - 전송 오류 없는 물리 매체 : 통신 채널에서는 전송 오류가 발생하지 않음
- 유한 버퍼
  - 송신 호스트가 프레임을 빠르게 보내면 프레임 분실
  - 흐름 제어 필요
- 흐름 제어
  - 수신 호스트가 송신 호스트의 전송 속도를 조절함
  - 수신 호스트는 정보 프레임 수신 후 ACK 프레임 회신
- 정지-대기 프로토콜 1
  - ACK 프레임
    - 송신 호스트에 긍정 응답의 기능을 수행
    - 다음 프레임을 전송하도록 지시하는 흐름 제어 기능도 수행
  - 정지-대기Stop-and-Wait 방식
    - 수신 호스트가 회신하는 ACK 프레임이 도착해야 다음 프레임을 전송할 수 있는 프로토콜 방식

단방향 프로토콜
- 가정 : 오류 제어와 흐름 제어 기능 지원
    - 단방향 통신 : 데이터는 송신 호스트에서 수신 호스트로만(한쪽 방향으로만) 전달
- 유한 버퍼
    - 흐름 제어 필요. 정상 수신 ACK
- 오류가 있는 채널
    - 프레임 분실 및 변형 가능
    - 프레임 변형 오류를 해결하기 위한 수신 호스트의 NAK 기능 필요
    - 프레임 분실 오류를 해결하기 위한 송신 호스트의 타임아웃 기능 필요
- NAK가 없는 경우
  - 정보 프레임 분실: 송신 호스트의 타임아웃 기능으로 오류 복구
  - ACK 프레임 분실: 송신 호스트의 타임아웃 기능으로 오류 복구
      - 수신 호스트가 같은 프레임을 중복 수신하는 것을 구별할 수 없다.
  - 프레임 변형 오류: 송신 호스트의 타임아웃 기능으로 오류 복구
      - 수신 호스트가 ACK를 보내지 않는다.
- NAK가 있는 경우
  - 프레임 변형 오류 : 수신 호스트의 NAK 프레임 응답으로 오류 복구
  - 프레임 분실 오류 : 송신 호스트의 타임아웃 기능으로 오류 복구


- NAK가 없는 경우
![image](https://user-images.githubusercontent.com/32366711/164280089-709f7843-bdad-46a2-bfc4-145ab423e74b.png)
- NAK가 있는 경우
![image](https://user-images.githubusercontent.com/32366711/164280112-29ee647d-ae35-47db-85da-8a13311f2438.png)

## 슬라이딩 윈도우 프로토콜

슬라이딩 윈도우 프로토콜
- 양방향 통신을 지원
- 오류 제어와 흐름 제어 기능을 모두 지원

기본 절차
- 송신 호스트는 정보 프레임(전송 데이터, 순서 번호, 오류 검출 코드)을 순서 번호에 따라 순차적으로 전송함
- 정보 프레임을 수신한 수신 호스트가 응답하는 순서 번호는 정상적으로 수신한 번호가 아닌 다음에 수신하기를 기대하는 번호를 회신하는 것이 일반적임
- 송신 호스트가 관리하는 송신 윈도우는 전송은 되었지만 긍정 응답이 회신되지 않은 프레임을 보관함
- 수신 호스트가 관리하는 수신 윈도우는 프로토콜의 방식에 따라 크기가 다름
  - 고백 NGo-Back-N 방식에서는 크기가 1 임
  - 선택적 재전송Selective Retransmission 방식에서는 송신 윈도우 크기와 같음

흐름 제어
- 순서 번호
  - 프레임 별로 부여되는 일련 번호
  - 0 부터 임의의 최댓값까지 순환 방식으로 사용
  - 일반적으로 순서 번호의 최댓값이 송신 윈도우 크기보다 커야 함
  - 프레임에서 순서 번호의 공간 크기 = n 비트 : 순서 번호의 범위는 0 ~ 2n – 1
- 송신 호스트의 윈도우 크기
  - 수신 호스트로부터 긍정 응답 프레임을 받지 않고 전송할 수 있는 정보 프레임의 최대 개수
  - 송신 호스트
    - 프레임을 전송하고 윈도우에 보관한다.
    - ACK를 받고나서 윈도우에서 제거한다.

![image](https://user-images.githubusercontent.com/32366711/164280435-ebdd7df7-63c0-44b7-9102-a25902996210.png)


 #### 연속형 전송
 
- 정지-대기 프로토콜은 송신 윈도우 크기가 1인 경우
- 연속형Pipelining 정지: ACK 프레임을 받지 않고 여러 프레임을 연속 전송
- ACK(번호)
  - ACK 프레임에 프레임 번호 포함
  - 해당 번호까지 올바로 수신한 프레임 번호
- 장점 : 오류 가능성이 적은 환경에서 효율적
- 오류 해결 방법
  - 고백 N : 오류가 발생한 프레임 이후의 모든 프레임을 재전송
  - 선택적 재전송 : 오류가 발생한 프레임만 재전송

고백 NGo-Back-N 방식
- 오류가 발생한 12번 프레임을 포함해 이후에 전송된 모든 정보 프레임을 재전송
- 수신 버퍼는 한 개만 필요. 윈도우 크기 = 1

![image](https://user-images.githubusercontent.com/32366711/164280596-0aece597-cf49-4e92-86a2-b45ad202b4d7.png)


선택적 재전송Selective Retransmission 방식
- 오류가 발생한 프레임만 선택적으로 복구
- 부정 응답 프레임을 사용해 오류가 발생한 정보 프레임을 처리하는 경우
- 수신 윈도우 크기 = 송신 윈도우 크기

![image](https://user-images.githubusercontent.com/32366711/164280623-c167f61f-2be4-4b23-8fde-03b1ecc55f8e.png)


피기배킹 (Piggybacking)
- 정보 프레임을 전송하면서 응답 기능까지 함께 수행, 전송 효율 높임
- 피기배킹을 사용하지 않는 경우
  - 개별 정보 프레임에 대해 긍정 응답 혹은 부정 응답 프레임이 순서 번호와 함께 별도 처리
- 피기배킹을 사용하는 경우
  - 정보 프레임의 표기방식은 I(i, j)로 재정의
  - i는 자신이 전송하는 데이터의 순서 번호, j는 제대로 수신한 프레임의 순서 번호를 의미

![image](https://user-images.githubusercontent.com/32366711/164280660-120271b0-226f-4855-8e80-7cb5e62cb8b2.png)


## HDLC 프로토콜

HDLCHigh-level Data Link Control 프로토콜
- 데이터 링크 프로토콜 사례
- 일대일 혹은 일대다로 연결된 환경에서 데이터의 송수신 기능 제공
- 호스트 종류
  - 주국Primary Station 에서 전송되는 메세지를 명령Command이라 정의
  - 종국Secondary Station 의 회신을 응답Response이라 함
  - 혼합국Combined Station : 주국과 종국 기능을 모두 지닌 호스트
- 명령과 응답
  - 명령(command): 주국에서 종국으로 보내는 메세지
  - 응답(response): 종국의 회신

프레임 구조
- HDLC 프레임 구조
  - 상단의 숫자는 비트 수.
  - 프레임의 좌우에 위치한 01111110 플래그는 프레임의 시작과 끝을 구분
  - Address(주소) : 일대다 환경에서 특정 호스트를 구분, 지칭하는 목적으로 사용
  - Control(제어) : 프레임의 종류를 구분
  - Data(데이터) : 가변 크기의 전송 데이터가 포함
  - Checksum(체크섬) : CRC-CCITT를 생성 다항식으로 하는 오류 검출 용도로 사용

#### 프레임 종류

정보 프레임Information Frame
- 네트워크 계층의 데이터 전송을 위해 정의
- 3비트의 순서 번호를 이용한 슬라이딩 윈도우 프로토콜을 사용
- 순서 번호는 0~7의 순서 번호 8개를 순환하여 사용
- Seq : 정보 프레임의 송신용 순서 번호로 사용
- Next : 피기배킹을 이용한 응답 기능으로 사용
- P/F : 값이 1로 지정되었을 경우에 한하여 Poll 혹은 Final의 의미를 갖음
  - Poll: 주국의 명령 프레임으로 사용될 때
  - Final: 종국의 응답 프레임에서 사용될 때

![image](https://user-images.githubusercontent.com/32366711/164280997-b7ae48c5-f52c-4b91-99bd-89ba496e6476.png)


감독 프레임Supervisor Frame
- 정보 프레임에 대한 응답 기능을 수행하는 프레임
- 긍정 응답 프레임과 부정 응답 프레임으로 구분
- Type 0 : RR로 정의된 긍정 응답 프레임
- Type 1 : REJ로 정의된 부정 응답 프레임
- Type 2 : RNR로 정의된 응답 프레임으로 흐름 제어 기능까지 제공
- Type 3 : SREJ로 정의된 프레임, 선택적 재전송 방식에서 부정 응답 기능을 지원

![image](https://user-images.githubusercontent.com/32366711/164281028-977e01b7-b706-4572-be17-62ff792a1451.png)

![image](https://user-images.githubusercontent.com/32366711/164281058-bee8361f-b68e-4896-8b83-55969f2cc563.png)


비번호 프레임Unnumbered Frame : 순서 번호가 없는 프레임을 정의
- 프레임 종류
  - SNRM, Set NRM : 정규 응답Normal Response 모드의 연결 설정을 요구
  - SABM, Set ABM : 비동기 균형Asynchronous Balanced 모드의 연결 설정을 요구
  - SARM, Set ARM : 비동기 응답Asynchronous Response 모드의 연결 설정을 요구
  - DISC, DISConnect : 연결 설정 해제를 요구
  - RSETR, eSET : 비정상적인 프로토콜의 동작에 따른 리셋 기능을 수행
  - FRMR, FRaMe Reject : 비정상적인 프레임의 수신을 거부
  - UA, Unnumbered ACK : 비번호 프레임에 대한 응답 기능을 수행
- 세가지 연결 모드
  - 정규 응답 : 불균형 모드를 의미하기 때문에 호스트 하나는 주국으로 동작하고, 다른 하나는 종국으로 동작한다
    - SNRM을 이용하여 연결 설정을 요구하며, 종국에서 데이터를 전솔하려면 반드시 주국의 허락을 받아야 한다
  - 비동기 균형 : 두개의 호스트가 동일한 능력을 갖는 혼합국으로 동작하며, 양쪽에서 명령과 응답을 모두 전송할 수 있다.
    - 따라서 둘 중 임의의 호스트에서 SABM을 이용한 연결 설정 요구를 수행할 수 있다
  - 비동기 응답 : 불균형 모드이나 종국이 주국의 허락 없이도 데이터를 전송할 수 있는 권한을 갖는다.
    - 즉, 주국의 허가(Poll)가 없어도 종국에서 먼저 SARM 응답을 보낼 수 있다

![image](https://user-images.githubusercontent.com/32366711/164281085-d2e22a7e-2cfc-4a44-9387-771fe7f37f9e.png)


LAP 프로토콜
- LAP, Link Access Protocol : 비동기 응답 모드인 ARM으로 동작하는 프로토콜
  - (a) 주국에서 전송된 SARM 명령: 종국에서 UA 응답을 전송함으로써 완료
  - (b) 종국에서 주국으로 SARM 응답을 전송하여 연결 설정을 요구
    - 종국에서 시작된 연결 설정은 3단계로 이루어지는 효과가 발생
![image](https://user-images.githubusercontent.com/32366711/164281637-364d2e6b-0000-49be-9726-eb674f82a605.png)


LAPB 프로토콜
- 비동기 균형(asynchronous balanced)
- 양쪽 호스트가 혼합국으로 동작, 누구나 먼저 명령을 전송 가능

![image](https://user-images.githubusercontent.com/32366711/164281676-8f71bdcf-009d-45c4-a084-5c7c53764222.png)
