---
layout: post
title: "IP, 4장 화소값 기반 처리 1"
description: "영상처리, 최경주교수님"
categories: [ImageProcessing]
tags: [2022-1, Image Processing, IP, 최경주]
use_math: true
redirect_from:
  - /2022/03/24
---

* Kramdown table of contents
{:toc .toc} 

`명암도 영상이다라고 가정. 그동안 명암도 영상 위주로 개발되어 왔음.`

# 화질 개선

- improve image contrast and spatial characteristics. 
- reduce image noise 
- remove some forms of misfocus and motion blur. 
- modify or correct image geometry 
- combine multiple images

- Spatial Domain Method
- Frequency Domain Method

# 공간 영역에서의 화질 개선 방법

Image Enhancement Method in Spatial Domain

Spatial Domain: 우리가 보는 일반적인 영상
영상을 구성하는 명암도 값을 바꿔서 개선해보자

> 영상 화소들에 직접 작용하여 화질을 개선하는 방법

1. Pixel Point Processing(화소 단위 처리) : 밝기(or 그레이-레벨) 변환
2. 공간 필터링 : 이웃 처리 (or 공간 컨볼루션)


## Intensity(Gray level) Transformations



## BInary Contrast Enhancement

## Thresholding

### Global thresholding

> 하나의 임계값을 영상 전체에 적용

### Adaptive Thresholding

> 하나의 임계값이 영상 전체 화소에 동일하게 적용되는 것이 아니라, <red>각각의 화소마다 이웃을 고려</red>하여 개별적으로 임계값을 고려하여 적용

1. 선택된 픽셀 위치에 대해 b x b 크기의 블록 설정
2. 블록에 대한 가중 평균(weighted average)을 구함. = WA(x, y)
  - OpenCV에서는 가중평균을 구하기 위해 제공하는 2가지 방법
    - 블록 내의 모든 픽셀에 대한 평균을 구하는 방법
    - 블록 내의 픽셀들에 대한 가우시안 가중 평균(Gaussian weighted average)구하는 방법[^Gaussian]
3. 앞에서 구한 평균값에서 상수 파라메터 값 param1 을 빼면 Threshold값이 구해짐.
  - T(x, y) = WA(x, y) - param1

[^Gaussian]: 가우시안 가중 평균은 블록 중심에 가까울수록 높은 가중치를 갖도록하여 평균을 구하는 방법

# Some Simple Gray level(Intensity) Transform

p15

## Linear Transform

> 입력영상의 값 r을 기울기 scale, y절편 shift인 직선의 방정식에 의해 변환

@
s = r * scale + shift
@

Mat::convertTo() 메소드로 선형 변환



## Negative Transform

> 영상의 값을 역변환하는 것으로 각 화소의 값이 영상 내에 대칭이 되는 값으로 변환

@
s = ( L - 1 ) – r
@

Output = 255 - Input

## Log Transform 

> 입력값 r에 대한 로그 값(=log(r))을 출력 영상에 저장

- log(0)은 음수, log(1)은 0이기 때문에 log(1+|r|)의 로그 변환 이용
- 로그 변환은 입력값 r의 범위가 매우 넓을 때 효과적
  - 여러 가지 이산 변환 (discrete-transform)들을 거친 디지털 영상의 경우 간혹 그레이 레벨의 최대 값을 초과하는 값들이 발생
  - 명암도의 최대값을 초과하는 값들이 발생하는 경우 화소값의 동적 범위를 명암도의 허용범위 내로 압

@
s = c log ( 1 + |r| ) 
@

## Power Law Transform

> 지수의 값에 의해 다양하게 입력영상을 변환시킬 수 있는 일반적인 변환 함수

- $ \gamma = 1 $ 이면 입력 r과 출력 s가 동일
- $\gamma < 1$이면 로그 변환과 유사
- $\gamma > 1$ 이면 역로그(inverse log)와 유사

@
s= c ( r )^ \gamma
@

### Gamma[^gamma] Correction

> 출력 영상의 밝기 정도를 전반적으로 조절하는 것           
> 역 과정에 의해 입력 값을 조정하여 출력을 제대로 만드는 과정

[^gamma]: 멱함수(power law transformation function)에서의 지수


## Contrast Enhancement using Power Law Transformation

## Piecewise-Linear Transformation

# 강도 변환 및 공간 필터링
Intensity Transformations and Spatial Filtering


## Gray level Slicing

## Bit Plane Slicing

> 영상에서 각 비트의 값들이 어떤 영향을 미치는지 알아보기 위해 각각의 비트들로만 이루어진 영상을 만드는 방법

Bit Plane Slicing을 이용하여 레벨을 낮춰 2 level, 4 level, 8 level, 16 level로 줄일 수 있음


# 강도 변환 함수
 Intensity Transformation Functions

## Arithemeticc Operation

### Clamping

### Wraping

## Logic Operation



# 연결된 컴포넌트
 Connected Components
# 색공간
 Color Space

