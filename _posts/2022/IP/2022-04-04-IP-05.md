---
layout: post
title: "IP, 4장 화소값 기반 처리 2"
description: "영상처리, 최경주교수님"
categories: [ImageProcessing]
tags: [2022-1, Image Processing, IP, 최경주]
use_math: true
redirect_from:
  - /2022/04/04
---

* Kramdown table of contents
{:toc .toc} 

# Histogram

> 영상 내 특정 명암도를 갖는 화소의 발생 빈도를 나타내는 수의 집합

- 영상의 명암대비, 밝기값 분포 등의 정보 제공
- 공간적인 정보를 반영하지는 못함

~~~
// 정규화
for(i=0 to L-1)
    h(i) = 0
for(i=0 to M-1)
    for(j=0 to N-1)
        h(f(j,i))++
for(i=0 to L-1)
    h(i) = h(i)/(M * N)
~~~

## Histogram Calculation in OpenCV

~~~
void cv::CalHist(*Mat images, int nimages, int* channels, InputArray mask, OutputArray hist, int dims, int* histSize, float** ranges, bool uniform=true, bool accumulate=false)
~~~


# Histogram Modification

## Histogram stretching

> 한쪽이나 중앙으로 치우친 histogram을 가진 영상을 개선

`잡아 늘린 효과`

히스토그램이 모든 범위의 화소값을 포함하도록 영상을 확장

히스토그램이 모든 범위의 화소값을 포함하도록 함

히스토그램의 분포가 좁아서 영상의 대비가 좋지 않은 영상의 화질을 개선할 수 있는 알고리즘

### 기본 명암대비 스트레칭

@
new_ {pixel} = \frac{old_ {pixel} - low}{high - low} * 255
@

0~255까지 고른 분포를 가진 Histogram 인 경우

명암대비 stretching 을 여러 번 적용해도 달라지지 않음

### Ends-in 탐색

임계값 low와 임계값 high 를 원하는 대로 설정한 후 다음 식을 적용

Histogram 의 특정 부분에 화소들이 치우친 영상을 보정하는데 유용

@
\begin{cases}
0 & x < low \\\ 
\frac{x- low}{high - low} * 255 & low \le x \le high \\\ 
255 & x > high \\\ 
\end{cases}
@

## Histogram equalization 

> 빈약한 histogram 분포를 가진 영상을 균등한 분포로 만듬

`문질러서 번지게 한 효과`